/* Meiya 2016-05-26 10:47 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=MY.appBridge,e={};e.userId=function(){return d.callHandler("get_user_id",function(a){a&&a.user_id&&$("#J_FieldUserId").val(a.user_id)})},e.field={id:"#J_FormMain",restore:function(){this.$btn.prop("disabled",!1).html("提交申请")},error:function(a,b){alert(a),b&&(b=this.$form.find("[name="+b+"]")).length&&b.focus(),this.restore()},success:function(){$("#J_Container").hide(),$("#J_TipsSuccess").show()},handler:function(a){a.preventDefault();var b=this.$form,c=this.$btn;c.prop("disabled",!0).html("正在提交...");var d={},e=b.serializeArray();if($.each(e,function(a,b){d[b.name]=b.value}),!d.contact)return void this.error("联系方式 不能为空！","contact");var f="提交失败，请稍候重试~";MY.xhr.ajax({type:"post",dataType:"json",url:"/api/talent-applications",data:d,success:function(a){if(a&&!a.code)this.success();else{var b=a&&a.message||f;this.error(b)}}.bind(this),error:function(){this.error(f)}.bind(this)})},init:function(){var a=this.$form=$(this.id);this.$btn=a.find("button"),a.on("submit",this.handler.bind(this))}},e.init=function(){this.userId(),this.field.init(),$(".J_Bridge").on("tap",function(a){var b=this.dataset.id;d.callHandler("navi_page_action",b)})},e.init()},{}]},{},[1]);