/* Meiya 2016-05-26 10:47 */!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./tpl/list/list.js"),e=a("./tpl/list/filter.js"),f=a("../../public/src/utils/zepto.lazyload"),g=a("../../public/src/ui/zepto.loading"),h=a("../../public/src/libs/iscroll-lite"),i=MY.appBridge,j=new g,k=void 0,l={};l.page=1;var m=$("#scroller");l.list={data:[],$container:$("#J_Features"),_xhr:function(a){return MY.xhr.api({url:"/v1/features",type:"get",data:{page:a,per_page:20,category_id:l.filter.id,with_overview:1}}).done(function(a){j.hide(),this.data=a.data}.bind(this))},render:function(){var a=d({features:this.data});1==l.page?this.$container.html(a):this.$container.append(a),this.data.length&&(l.loading=!1),setTimeout(function(){new f(".J_LazyPic")},100)},handler:function(){this.$container.delegate("a","click",function(){var a=$(this),b=a.data("page"),c=a.data("id");b&&i.callHandler("navi_webview_action",b),c&&l.postStats("Feature",c)})},init:function(){this._xhr(l.page).done(function(){this.render()}.bind(this))},setScroll:function(){$(window).scroll(function(a){var b=$(window).scrollTop(),c=$(document).height(),d=$(window).height();400>c-b-d&&!l.loading&&(l.page+=1,l.loading=!0,l.list.init())})}},l.filter={id:"",_xhr:function(){return MY.xhr.api({url:"/v1/feature-categories",type:"get"}).done(function(a){j.hide(),this.data=a.data}.bind(this))},render:function(){var a=this,b=e({data:this.data});m.html(b),setTimeout(function(){a.iscroll()},100),document.getElementById("wrapper").addEventListener("touchmove",function(a){a.preventDefault()},!1),this.event()},init:function(){this._xhr().done(function(){this.render()}.bind(this))},event:function(){var a=this,b=m.find("li"),c=m.find(".cursor");b.on("click",function(){var d=$(this),e=d.data("id");b.removeClass("active"),d.addClass("active"),c.css("left",d.width()*d.index()+"px"),a.id=e,l.page=1,j.show(),$("#J_Features").html(""),l.list.init()})},iscroll:function(){var a={eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1},b={eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1,tap:!0,useTransform:!1,useTransition:!1};k=MY.isAndroid&&MY.Version(MY.isAndroid,"5.0")<=0?new h("#wrapper",b):new h("#wrapper",a)}},l.postStats=function(a,b){a&&"string"==typeof a||(a="Feature");var c={event:"click",content_id:b,context_type:a};return MY.xhr.api({type:"post",url:"/v1/stats",data:c})},l.init=function(){MY.Version(MY.version,"3.0")<0&&$("#wrapper").css("position","absolute"),this.list.init(),this.filter.init(),this.list.setScroll(),this.list.handler()},l.init()},{"../../public/src/libs/iscroll-lite":5,"../../public/src/ui/zepto.loading":6,"../../public/src/utils/zepto.lazyload":10,"./tpl/list/filter.js":2,"./tpl/list/list.js":3}],2:[function(a,b,c){"use strict";var d=a("../template");b.exports=d("list/filter",function(a){var b=this,c=(b.$helpers,b.$each),d=a.data,e=(a.item,a.$index,b.$string),f="";return f+="<ul> <li class=\"active\" data-id=''>最新</li> ",c(d,function(a){f+=" <li data-id='",f+=e(a.id),f+="'>",f+=e(a.name),f+="</li> "}),f+=' </ul> <span class="cursor"></span>',new String(f)})},{"../template":4}],3:[function(a,b,c){"use strict";var d=a("../template");b.exports=d("list/list",function(a){var b=this,c=(b.$helpers,b.$each),d=a.features,e=(a.item,a.i,b.$string),f=(a.img,a.view,"");return c(d,function(a){f+=' <div class="feature"> <div class="cover"> <a class="item" data-id=\'',f+=e(a.id),f+="' ",a.url?(f+='data-page="',f+=e(a.url),f+='"'):(f+='data-page="feature/index.html?id=',f+=e(a.id),f+='"'),f+='> <img class="J_LazyPic" src="./img/lazy-bg.png" ',c(a.images,function(a){f+=" ",0==a.type&&(f+='data-original="',f+=e(a.url),f+='?imageView2/2/w/640"'),f+=" "}),f+="/> </a> </div> ",a.url&&a.overviews&&a.overviews.length>2&&(f+=' <ul class="overviews"> ',c(a.overviews,function(b,c){f+=" ",3>c&&(f+=' <li class="item"> <a data-id=\'',f+=e(a.id),f+="' data-page='",f+=e(a.url),f+="#",f+=e(b.anchor_id),f+='\'> <div class="pics"> <img src="',f+=e(b.cover_url),f+='?imageView2/1/w/218/h/218"> </div> <div class="title">',f+=e(b.title),f+="</div> </a> </li> "),f+=" "}),f+=" </ul> "),f+=" </div> "}),new String(f)})},{"../template":4}],4:[function(a,b,c){"use strict";!function(){function a(a,b){return(/string|function/.test(typeof b)?i:h)(a,b)}function c(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?c(a.call(a)):""),a}function d(a){return m[a]}function e(a){return c(a).replace(/&(?![\w#]+;)|[<>"']/g,d)}function f(a,b){if(n(a))for(var c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)}function g(a,b){var c=/(\/)[^\/]+\1\.\.\1/,d=("./"+a).replace(/[^\/]+$/,""),e=d+b;for(e=e.replace(/\/\.\//g,"/");e.match(c);)e=e.replace(c,"/");return e}function h(b,c){var d=a.get(b)||j({filename:b,name:"Render Error",message:"Template not found"});return c?d(c):d}function i(a,b){if("string"==typeof b){var c=b;b=function(){return new l(c)}}var d=k[a]=function(c){try{return new b(c,a)+""}catch(d){return j(d)()}};return d.prototype=b.prototype=o,d.toString=function(){return b+""},d}function j(a){var b="{Template Error}",c=a.stack||"";if(c)c=c.split("\n").slice(0,2).join("\n");else for(var d in a)c+="<"+d+">\n"+a[d]+"\n\n";return function(){return"object"==typeof console&&console.error(b+"\n\n"+c),b}}var k=a.cache={},l=window.String,m={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},n=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},o=a.utils={$helpers:{},$include:function(a,b,c){return a=g(c,a),h(a,b)},$string:c,$escape:e,$each:f},p=a.helpers=o.$helpers;a.get=function(a){return k[a.replace(/^\.\//,"")]},a.helper=function(a,b){p[a]=b},b.exports=a}()},{}],5:[function(a,b,c){"use strict";!function(a,c,d){function e(a,b){this.wrapper="string"==typeof a?c.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in b)this.options[d]=b[d];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var f=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},g=function(){function b(a){return g===!1?!1:""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1)}var e={},f=c.createElement("div").style,g=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},e.momentum=function(a,b,c,e,f,g){var h,i,j=a-b,k=d.abs(j)/c;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(0>j?-1:1),i=k/g,e>h?(h=f?e-f/2.5*(k/8):e,j=d.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=d.abs(a)+h,i=j/k),{destination:d.round(h),duration:i}};var h=b("transform");return e.extend(e,{hasTransform:h!==!1,hasPerspective:b("perspective")in f,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:b("transition")in f}),e.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:b("transitionTimingFunction"),transitionDuration:b("transitionDuration"),transitionDelay:b("transitionDelay"),transformOrigin:b("transformOrigin")}),e.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return d.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1==a?1:c*d.pow(2,-10*a)*d.sin((a-b/4)*(2*d.PI)/b)+1}}}),e.tap=function(a,b){var d=c.createEvent("Event");d.initEvent(b,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var b,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(b=c.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),b._constructed=!0,d.dispatchEvent(b))},e}();e.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if((1==g.eventType[a.type]||0===a.button)&&this.enabled&&(!this.initiated||g.eventType[a.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,c=a.touches?a.touches[0]:a;this.initiated=g.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(d.round(b.x),d.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,e,f,h=a.touches?a.touches[0]:a,i=h.pageX-this.pointX,j=h.pageY-this.pointY,k=g.getTime();if(this.pointX=h.pageX,this.pointY=h.pageY,this.distX+=i,this.distY+=j,e=d.abs(this.distX),f=d.abs(this.distY),!(k-this.endTime>300&&10>e&&10>f)){if(this.directionLocked||this.options.freeScroll||(e>f+this.options.directionLockThreshold?this.directionLocked="h":f>=e+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,c=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+j/3:c>0?0:this.maxScrollY),this.directionX=i>0?-1:0>i?1:0,this.directionY=j>0?-1:0>j?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c,e=(a.changedTouches?a.changedTouches[0]:a,g.getTime()-this.startTime),f=d.round(this.x),h=d.round(this.y),i=d.abs(f-this.startX),j=d.abs(h-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(f,h),this.moved?this._events.flick&&200>e&&100>i&&100>j?void this._execEvent("flick"):(this.options.momentum&&300>e&&(b=this.hasHorizontalScroll?g.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},c=this.hasVerticalScroll?g.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:h,duration:0},f=b.destination,h=c.destination,k=d.max(b.duration,c.duration),this.isInTransition=1),f!=this.x||h!=this.y?((f>0||f<this.maxScrollX||h>0||h<this.maxScrollY)&&(l=g.ease.quadratic),void this.scrollTo(f,h,k,l)):void this._execEvent("scrollEnd")):(this.options.tap&&g.tap(a,this.options.tap),this.options.click&&g.click(a),void this._execEvent("scrollCancel"))}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||g.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=g.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,c===!0&&(c=d.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=d.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=c||0,h.top-=e||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||"auto"===b?d.max(d.abs(this.x-h.left),d.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,f)}},_transitionTime:function(a){a=a||0,this.scrollerStyle[g.style.transitionDuration]=a+"ms",!a&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[g.style.transitionTimingFunction]=a},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=d.round(a),b=d.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b},_initEvents:function(b){var c=b?g.removeEvent:g.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,g.prefixPointerEvent("pointerdown"),this),c(d,g.prefixPointerEvent("pointermove"),this),c(d,g.prefixPointerEvent("pointercancel"),this),c(d,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[g.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_animate:function(a,b,c,d){function e(){var m,n,o,p=g.getTime();return p>=l?(h.isAnimating=!1,h._translate(a,b),void(h.resetPosition(h.options.bounceTime)||h._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,h._translate(m,n),void(h.isAnimating&&f(e)))}var h=this,i=this.x,j=this.y,k=g.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},e.utils=g,"undefined"!=typeof b&&b.exports?b.exports=e:a.IScroll=e}(window,document,Math)},{}],6:[function(a,b,c){"use strict";var d={elem:".J_Loading",onshow:function(){},onhide:function(){}},e='<div class="J_Loading loading"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>',f=function(a){var b=null;a=$.extend(d,a||{}),$.extend(this,a),b=$(a.elem),0===b.length&&(b=$(e),document.body.appendChild(b[0])),this.$elem=b},g=f.prototype={constructor:f};$.extend(g,{show:function(){return this.$elem.show(),this.__dispatchEvent("show"),this},hide:function(){return this.$elem.hide(),this.__dispatchEvent("hide"),this},__dispatchEvent:function(a,b){this["on"+a]&&this["on"+a](b)},destory:function(){this.$elem.remove();for(var a in this)delete this[a];return this}}),b.exports=f},{}],7:[function(a,b,c){"use strict";function d(a){window.WebViewJavascriptBridge?a(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){a(WebViewJavascriptBridge)},!1)}function e(a,b,c){switch(a){case"share_channel_action":if(f.system.iPhone&&g.Version(f.app.ver,"2.3.0")<=0){var d=b.weibo;"object"==typeof d&&(d.title=d.title+d.url,d.content=d.content+d.url)}break;case"get_query_string":if("function"==typeof c){var e=location.search.replace(/^\?/,""),h=location.hash.replace(/^\#/,""),i=e+(e?"#":"")+h;f.system.iPhone&&-1===g.Version(f.app.ver,"2.7.0")?c({query_string:i}):f.system.Android&&-1===g.Version(f.app.ver,"2.3.0")&&c({query_string:i})}}}var f=a("./ua"),g=window.MY=window.MY||{},h={defaultHandler:function(a,b){b("got")},send:function(a,b){d(function(c){c.send(a,function(a){"function"==typeof b&&b(a)})})},callHandler:function(a,b,c){"function"==typeof b&&(c=b,b=null),e.call(null,a,b,c),d(function(d){d.callHandler(a,b,function(a){"function"==typeof c&&c(a)})})},registerHandler:function(a,b){d(function(c){c.registerHandler(a,function(a){"function"==typeof b&&b(a)})})}};d(function(a){a.init&&a.init&&a.init(h.defaultHandler)}),h.connectWebViewJavascriptBridge=d,g.appBridge=h,b.exports=h},{"./ua":9}],8:[function(a,b,c){"use strict";var d=a("./app-bridge"),e=function(){return this};e.prototype={constructor:e,onerror:function(a){var b=a.target.src;this.dataset.ip||e.queryIP(b).done(function(a,b){this.dataset.ip=a,this.src=this.src.replace(b,a)}.bind(this))}},e.queryIP=function(a){var b=$.Deferred(),c=/^https?:\/\/([^:\/\?#]+)/,e=a.match(c);if(e&&e.length){var f=e[1];d.callHandler("query_ip",{host:f},function(a){b.resolve(a.ip,f)})}return b.promise()},b.exports=new e},{"./app-bridge":7}],9:[function(a,b,c){"use strict";var d={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:""},e={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:""},f={win:!1,mac:!1,x11:!1,iPhone:!1,iPad:!1,iOS:!1,Android:!1,winPhone:!1},g=!1,h=navigator.userAgent,i=navigator.platform;if(/(Meiya(?:-dev)?)/.test(h)){var j=RegExp.$1;g={name:j,ver:/Meiya(?:-dev)?\/(\d+\.\d+\.\d+(?:\.\d+)?)\D/.exec(h)[1],isDev:/Meiya-dev/.test(j)}}if(f.win=0==i.indexOf("Win"),f.mac=0==i.indexOf("Mac"),f.x11=0==i.indexOf("X11")||0==i.indexOf("Linux"),f.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(h))if("NT"==RegExp.$1)switch(RegExp.$2){case"5.0":f.win="2000";break;case"5.1":f.win="XP";break;case"6.0":f.win="Vista";break;case"6.1":f.win="7";break;default:f.win="NT"}else"9x"==RegExp.$1?f.win="ME":f.win=RegExp.$1;if(f.iPhone=h.indexOf("iPhone")>-1,f.iPad=h.indexOf("iPad")>-1,f.mac&&h.indexOf("Mobile")>-1&&(/CPU (?:iPhone )?OS (\d+_\d+)/.test(h)?f.iOS=parseFloat(RegExp.$1.replace("_",".")):f.iOS=2),/Android (\d+\.\d+)/.test(h)&&(f.Android=parseFloat(RegExp.$1)),"CE"==f.win?f.winPhone=f.win:"Ph"==f.win&&/Windows Phone OS (\d+\.\d+)/.test(h)&&(f.win="Phone",f.winPhone=parseFloat(RegExp.$1)),window.opera)d.ver=e.ver=window.opera.version(),d.opera=e.opera=parseFloat(d.ver);else if(/AppleWebKit\/(\S+)/.test(h))if(d.ver=RegExp.$1,d.webkit=parseFloat(d.ver),/Chrome\/(\S+)/.test(h))e.ver=RegExp.$1,e.chrome=parseFloat(e.ver);else if(/Version\/(\S+)/.test(h))e.ver=RegExp.$1,e.safari=parseFloat(e.ver);else{var k=1;k=d.webkit<100?1:d.webkit<312?1.2:d.webkit<412?1.3:2,e.safari=e.ver=k}else/KHTML\/(\S+)/.test(h)||/Konqueror\/([^;]+)/.test(h)?(d.ver=e.ver=RegExp.$1,d.khtml=e.konq=parseFloat(d.ver)):/rv:([^\)]+)\) Gecko\/\d{8}/.test(h)?(d.ver=RegExp.$1,d.gecko=parseFloat(d.ver),/Firefox\/(\S+)/.test(h)&&(e.ver=RegExp.$1,e.firefox=parseFloat(e.ver))):/MISE ([^;]+)/.test(h)&&(d.ver=e.ver=RegExp.$1,d.ie=e.ie=parseFloat(d.ver));b.exports={engine:d,browser:e,system:f,app:g}},{}],10:[function(a,b,c){"use strict";var d=(a("./app-bridge"),a("./images")),e=$(window),f={elements:null,threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"},g=function(a,b){var c=this;"object"==typeof a&&(b=a,a=b.elements);var g=this.$elements=$(a);b=$.extend(f,b),b.elements||(b.elements=a),this.options=b;var h=this.$container=void 0===b.container||b.container===window?e:$(b.container);return 0===b.event.indexOf("scroll")&&h.on(b.event,function(){c.update()}),g.each(function(){var a=this,e=$(a);a.loaded=!1,(void 0===e.attr("src")||e.attr("src")===!1)&&e.is("img")&&e.attr("src",b.placeholder),e.one("appear",function(){if(!this.loaded){if(b.appear){var f=g.length;b.appear.call(a,f,b)}$("<img />").on("error",d.onerror).on("load",function(){var d=e.attr("data-"+b.data_attribute);e.hide(),e.is("img")?e.attr("src",d):e.css("background-image","url('"+d+"')"),e[b.effect](b.effect_speed),a.loaded=!0;var f=$.grep(g,function(a){return!a.loaded});if(g=c.$element=$(f),b.load){var h=g.length;b.load.call(a,h,b)}}).attr("src",e.attr("data-"+b.data_attribute))}}),0!==b.event.indexOf("scroll")&&e.on(b.event,function(){a.loaded||e.trigger("appear")})}),e.on("resize",function(){c.update()}),$(document).ready(function(){c.update()}),this};g.prototype={constructor:g,visible:function(a){return a=$(a),!(!a.width()&&!a.height())&&"none"!==a.css("display")},update:function(){var a=this,b=0,c=this.$elements,d=this.options;c.each(function(){var c=$(this);if(!d.skip_invisible||a.visible(this))if(a.abovethetop(this,d)||a.leftofbegin(this,d));else if(a.belowthefold(this,d)||a.rightoffold(this,d)){if(++b>d.failure_limit)return!1}else c.trigger("appear"),b=0})},abovethetop:function(a,b){var c;return c=void 0===b.container||b.container===window?e.scrollTop():$(b.container).offset().top,c>=$(a).offset().top+b.threshold+$(a).height()},leftofbegin:function(a,b){var c;return c=void 0===b.container||b.container===window?e.scrollLeft():$(b.container).offset().left,c>=$(a).offset().left+b.threshold+$(a).width()},belowthefold:function(a,b){var c;return c=void 0===b.container||b.container===window?(window.innerHeight?window.innerHeight:e.height())+e.scrollTop():$(b.container).offset().top+$(b.container).height(),c<=$(a).offset().top-b.threshold},rightoffold:function(a,b){var c;return c=void 0===b.container||b.container===window?e.width()+e.scrollLeft():$(b.container).offset().left+$(b.container).width(),c<=$(a).offset().left-b.threshold}},b.exports=g},{"./app-bridge":7,"./images":8}]},{},[1]);